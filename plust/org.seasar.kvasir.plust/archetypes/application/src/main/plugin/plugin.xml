<?xml version="1.0" encoding="UTF-8"?>
<plugin xmlns="http://kvasir.sandbox.seasar.org/plugin/3.0.0"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://kvasir.sandbox.seasar.org/plugin/3.0.0 http://kvasir.sandbox.seasar.org/support/plugin-3_0_0.xsd"
  id="${pluginId}" name="${pluginName?xml}" version="${pluginVersion}"
  provider-name="${pluginProviderName?xml}">
  <runtime>
    <library name="conf" />
    <library name="${pluginId}.jar">
      <export name="**" />
      <export name="**" resource="true" />
    </library>
    <library name="lib" expand="true" />
  </runtime>

  <requires>
    <import plugin="org.seasar.kvasir.base.dao" />
    <import plugin="org.seasar.kvasir.page" />
    <import plugin="org.seasar.kvasir.page.ability.content" />
    <import plugin="org.seasar.kvasir.page.ability.template" />
    <import plugin="org.seasar.kvasir.page.ability.table" />
    <import plugin="org.seasar.kvasir.page.auth" />
    <import plugin="org.seasar.kvasir.cms" />
    <import plugin="org.seasar.kvasir.cms.pop" />
    <import plugin="org.seasar.kvasir.cms.ymir" />
    <import plugin="net.skirnir.freyja" />
  </requires>

  <extension point="org.seasar.kvasir.page.pageGards">
    <page-gard id="${pluginShortId}" version="${pluginVersion}" singleton="true" />
  </extension>

  <extension point="org.seasar.kvasir.page.pageGardInstalls">
    <page-gard-install
      gard-id="${pluginId}.${pluginShortId}"
      path-account="/plugins/${pluginShortId}" />
  </extension>

  <extension point="org.seasar.kvasir.cms.pop.pops">
    <pop id="${pluginShortId}Pop" body-type="text/x-zpt"
      body-resource-path="gards/${pluginShortId}/pop/${pluginShortId}.html">
      <property-def id="title" />
      <property-def id="body" human-readable="false" />
    </pop>
  </extension>

  <extension point="org.seasar.kvasir.cms.ymir.applications">
    <application id="${pluginShortId}Application"
      gard-id="${pluginId}.${pluginShortId}"
      landmark="${pluginId}.${pluginClassName}" />
  </extension>

  <extension point="org.seasar.kvasir.cms.ymir.externalTemplates">
    <external-template application-id="${pluginId}.${pluginShortId}Application"
      resource-path="gards/${pluginShortId}/pop" />
  </extension>
</plugin>
